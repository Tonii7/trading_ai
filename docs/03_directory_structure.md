# Eldar — TradingAI Technical Intelligence Book  
## Section 3 — Directory Structure  
(Структура директорий и файлов TradingAI)

---

## 3.1. Общий обзор репозитория

Текущая структура проекта TradingAI на GitHub:

```
trading_ai/
├── knowledge/
├── knowledge_base/
├── reports/
├── src/
│   └── trading_ai/
│       ├── agents/
│       ├── services/
│       │   ├── ctrader/
│       │   ├── discord/
│       │   ├── NY Session/
│       ├── config/
│       ├── setup/
│       └── ...
├── utils/
├── .gitignore
├── README.md
├── project_tree.txt
├── run_discord_bot.bat
├── install_tradingai_discord_service.ps1
├── env_from_scheduler.txt
├── ABSOLUTE_DEBUG.txt
├── symbols_list.txt
└── pyproject.toml
```

Это — высокоуровневый каркас всей системы TradingAI.

---

## 3.2. Папки верхнего уровня

### **/knowledge**
Предназначена для хранения текстовых файлов, используемых в виде:

- справочников  
- заметок  
- внутренних аналитических таблиц  
- статических данных  
- текстов, которые могут быть добавлены в базу знаний  

Эта папка показывает историческую и аналитическую информацию, которая может быть использована агентами (в перспективе).

---

### **/knowledge_base**
Это расширенная, системная база знаний, которая:

- используется внутренними сервисами  
- может быть интегрирована с CrewAI или LLM  
- хранит структурированные данные  

В отличие от `/knowledge`, здесь — данные более системного характера.

---

### **/reports**
Здесь система сохраняет:

- логи NY Session  
- логи CrewAI (jsonl и txt)  
- отчёты по рынку  
- аналитические результаты  
- временные выводы агентов  

Эта папка — часть Data Layer.

---

## 3.3. Папка /src — ядро системы

Главная папка проекта — `src/trading_ai`.

Она содержит:

```
src/
└── trading_ai/
    ├── agents/
    ├── services/
    ├── config/
    ├── setup/
    ├── run_crew.py
    ├── (прочие runtime-файлы)
```

Теперь разберём каждый модуль подробно.

---

## 3.4. /src/trading_ai/agents  
Папка с агентами CrewAI:

```
agents/
├── supervisor_agent.py
├── market_analyzer.py
├── news_screener.py
├── python_engineer.py
├── ctrader_market_agent.py
├── market_engine.py
└── ...
```

Каждый агент:

- имеет свою роль  
- работает в рамках CrewAI  
- выполняет задачи (tasks.yaml)  
- взаимодействует через Supervisor  

Агенты представляют собой сердце TradingAI — систему принятия решений.

---

## 3.5. /src/trading_ai/services  
Здесь находятся интеграционные сервисы.

Структура:

```
services/
├── ctrader/
├── discord/
├── NY Session/
└── (другие сервисы)
```

Теперь подробно.

### **/services/ctrader/**
Основной коннектор к брокерской платформе.

Содержит модули:
- `ctrader_openapi_client.py` — основной клиент API  
- `ctrader_price_source.py` — потоковая цена  
- `ctrader_candles_data.py` — исторические свечи  
- `ctrader_symbol_details.py` — параметры инструментов  
- `ctrader_symbols_data.py` — список инструментов  
- `market_snapshot.py` — объединённый snapshot данных  

Эта папка отвечает за **полное управление рыночными данными**.

---

### **/services/discord/**
Модуль Discord-интеграции.

Файлы могут включать:
- логика команд  
- маршруты  
- обработчики сообщений  
- мост между Discord → CrewAI  
- функции отправки отчётов  

Это точка взаимодействия пользователя и системы.

---

### **/services/NY Session/**
Логика анализа Нью-Йоркской торговой сессии.

Хранит:
- анализ свечей  
- логи волатильности  
- реакции на системные условия  
- результаты наблюдений  

Это отдельный аналитический движок.

---

## 3.6. /src/trading_ai/config  
Хранит системные файлы конфигурации.

Ключевой файл:
```
output_routes.yaml
```

Он определяет:
- куда отправлять отчёты  
- какие каналы использовать  
- какие сервисы активны  
- какие агенты участвуют  

---

## 3.7. /src/trading_ai/setup  
Папка для инсталляционных и инфраструктурных скриптов.

Она предназначена для:
- генерации сервисов  
- установки зависимостей  
- построения локальной среды  

---

## 3.8. Файлы запуска /src  
Рядом с папкой trading_ai лежат:

- `run_market_engine.py`  
- `run_discord_test.py`  
- `run_discord_bot.py`  
- `run_ctrader_market_agent.py`  
- `manual_dispatch_test.py`  

Это — runtime файлы, обеспечивающие работу отдельных подсистем.

---

## 3.9. Папка /utils

Хранит полезные утилиты:

- сбор данных  
- вспомогательные функции  
- парсеры  
- общие модули  

Обычно используются сервисами и агентами.

---

## 3.10. Корневые файлы

### `.gitignore`
Определяет, какие файлы исключаются из Git.

### `pyproject.toml`
Главный конфигурационный файл Python-проекта:
- зависимости  
- пакеты  
- версия Python  
- настройки сборки  

### `project_tree.txt`
Текстовое дерево проекта — автогенерируемый файл.

### `ABSOLUTE_DEBUG.txt`
Файл отладочных логов.

### `env_from_scheduler.txt`
Переменные среды, возможно генерируемые сервисом.

### `run_discord_bot.bat`
Запуск Discord-модуля.

### `install_tradingai_discord_service.ps1`
PowerShell скрипт для установки Discord-сервиса.

---

# Итоги

Эта секция объясняет структуру файлов и директорий TradingAI.

Она необходима:
- для разработчиков  
- для NotebookLM  
- для понимания архитектуры  

Теперь система структурирована для дальнейших секций документации.
