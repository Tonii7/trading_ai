# Eldar — TradingAI Technical Intelligence Book  
## Section 9 — Knowledge System  
(Система знаний TradingAI)

---

## Введение

Knowledge System — это подсистема хранения знаний и файлов внутри TradingAI.  
Она служит базой:

- аналитических материалов  
- логов  
- отчётов  
- зафиксированных моделей поведения рынка  
- системных данных  
- вспомогательной информации для агентов  

Эта подсистема делает TradingAI более прозрачным, обучаемым и расширяемым.

---

# 9.1. Структура Knowledge System

В проекте существуют две основные папки:

```
knowledge/
knowledge_base/
```

Они выполняют разные, но взаимодополняющие функции.

---

# 9.2. Папка /knowledge  
(Пользовательская база знаний)

### Назначение:
Хранение текстовых, табличных и аналитических файлов, которые:

- создаются вручную  
- формируются профессиональными анализами  
- загружаются трейдером  
- используются как справочные материалы  

Это «ручная» база знаний — обычные текстовые файлы, которые можно редактировать.

### Типичное содержимое:

- заметки по инструментам  
- фундаментальные данные  
- статистические таблицы  
- аналитические обзоры  
- наблюдения по US30 / XAUUSD  
- файлы, связанные с обучением агентов  

Aгенты CrewAI могут использовать эти данные в качестве контекста.

---

# 9.3. Папка /knowledge_base  
(Системная база знаний)

### Назначение:
Большая структурированная база данных, предназначенная для:

- хранения внутренних знаний системы  
- логов  
- результатов аналитических процессов  
- моделей сессий  
- зафиксированных рыночных закономерностей  

### Отличия от /knowledge:

| Папка | Назначение |
|-------|------------|
| **knowledge** | пользовательские файлы, аналитика |
| **knowledge_base** | системные знания и структурированные данные |

### Типичные данные:

- исторические выводы системы  
- сохранённые результаты анализов  
- логи агентов  
- результаты NY Session Engine  
- обучающие данные для R&D  

Эти данные редко редактируются вручную.

---

# 9.4. Использование Knowledge System агентами

Агенты CrewAI, такие как:

- Market Analyzer  
- News Screener  
- Python Engineer  
- Session Engine  

могут обращаться к Knowledge System.

Примеры запросов:

```
load_text("levels_US30.txt")
load_json("ny_session_patterns.jsonl")
```

Это значительно усиливает качество анализа.

---

# 9.5. Логи и отчёты в Knowledge System

Хотя логи хранятся преимущественно в `reports/`, часть информации может быть перемещена в Knowledge System для:

- агрегирования  
- анализа поведения  
- исследования паттернов  
- обучения моделей  

Пример:

```
reports/ny_session_crew_log.jsonl
→ knowledge_base/ny_behavior_dataset.jsonl
```

---

# 9.6. Возможные сценарии использования

### Использование при обучении агентов  
Агент может использовать Knowledge System как исторический контекст.

### Использование при разработке моделей  
R&D модуль может использовать данные для:

- статистики  
- моделирования  
- поиска закономерностей  

### Использование при ручном анализе  
Трейдер/аналитик может сохранять наблюдения:

```
knowledge/notes_us30.txt
knowledge/key_levels_xauusd.txt
```

---

# 9.7. Формат хранения данных

TradingAI поддерживает:

- `.txt`  
- `.json`  
- `.jsonl`  
- `.md`  
- `.csv`  
- `.yaml`

Это обеспечивает максимальную гибкость.

---

# 9.8. Принципы организации Knowledge System

1. **Простота добавления**  
   Легко добавлять новые файлы.

2. **Прозрачность**  
   Всё лежит в открытых текстовых форматах.

3. **Гибкость**  
   Можно использовать для RAG, CrewAI, анализа и логирования.

4. **Безопасность**  
   Никаких бинарных форматов, всё читаемо и проверяемо.

---

# 9.9. Как расширять Knowledge System

Добавление файла — это просто:

```
/knowledge/my_analysis_xauusd.txt
```

или системные данные:

```
/knowledge_base/behavior_model_2025.jsonl
```

Рекомендации:

- группировать по инструментам  
- использовать понятные названия  
- хранить файлы аналитики отдельно  
- поддерживать папку knowledge_base исключительно системной  

---

# 9.10. Где Knowledge System используется дальше

В следующих модулях:

- Market Engine  
- CrewAI Agents  
- NY Session Engine  
- Report Generator  
- NotebookLM  

Knowledge System — это база для долгосрочной эволюции TradingAI.

---

# Финальный вывод по секции

Knowledge System:

- увеличивает качество анализа  
- обеспечивает долговременную память  
- делает систему обучаемой  
- помогает развивать AI-агентов  
- хранит как пользовательскую, так и системную информацию  

Это важная часть архитектуры TradingAI.
